<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Gita Verse Generator</title>
</head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="style.css">
<body>
    <header>
    <div class="navbar">
        <div class="nav-logo border">
            <div class="logo"></div>

        </div>
        <div class="nav-search">
            <select class="search-select">
                <option>All</option>
            </select>
            <input placeholder="Search Bhagavad Gita Verse" class="search-input">
            <div class="search-icon">
                <i class="fa-solid fa-magnifying-glass"></i>
            </div>
        </div>
        <div class="nav-krishna border">
            <a href="https://random-gita-verse-generator.vercel.app/"><div class="krishna"></div></a>

        </div>
    </div>
</header>
    <div class="content-box">
        <div class="main">
            <div class="box-content">
            <h2>Today's Random Gita Verse</h2>
            <p id="verse">Click on Button!</p>
        </div>
        <div class="button">
            <button class="buttons" onclick="getVerse()">Today's verse</button>
            <button class="buttons2" onclick="shareOnWhatsApp()"><img src="whatsapp.png"/>Share on Whatsapp</button>
        </div>
        </div>
        

        <script>
            function gitaslokid() {
    const slokcount = [47, 72, 43, 42, 29, 47, 30, 28, 34, 42, 55, 20, 35, 27, 20, 24, 28, 78];
    const chapter = Math.floor(Math.random() * 17) + 1;
    const slok = Math.floor(Math.random() * slokcount[chapter - 1]) + 1;
    return `https://vedicscriptures.github.io/slok/${chapter}/${slok}/`;
}
            
    async function getVerse() {
    const api_url = gitaslokid();
    const response = await fetch(api_url);
    const data = await response.json();

    const verse = data.slok; // Extract the verse
    const translation = data.tej; // Choose one translation, for example, "tej"
    const translationElement = document.querySelector('.box-content p.translation');
    if (translationElement) {
        translationElement.remove();
    }
    // Display the verse and translation
    document.querySelector('.box-content h2').textContent = "Today's Gita Verse";
    document.querySelector('.box-content p').textContent = verse;
    document.querySelector('.box-content p').insertAdjacentHTML('afterend', `<p class="translation">${translation.author}: ${translation.ht}</p>`);
}
function shareOnWhatsApp() {
            const verseText = document.querySelector('.box-content p').textContent;
            const shareText = encodeURIComponent(verseText);
            const whatsappMessage = `${shareText} üôè üôè üôè

        
            https://random-gita-verse-generator.vercel.app/



            Share with your friends and family. Click on the link to get daily random gita verse for universal guidance.`;
            const whatsappURL = `https://wa.me/?text=${(whatsappMessage)}`;
            window.open(whatsappURL, '_blank');


        }



// Call the function to get and display the verse
getVerse();

        </script>

</body>
</html>
